\ProvidesPackage{lecturenote}
\RequirePackage{amsmath,amsthm,amssymb,amscd,mathrsfs}
\RequirePackage[hmargin=1in,vmargin=1in]{geometry}
\RequirePackage{xcolor,graphics}
\RequirePackage{tikz,tikz-cd,tikz-3dplot}
\RequirePackage[colorlinks=true,linkcolor=black]{hyperref}
\RequirePackage[framemethod=TikZ]{mdframed}
\RequirePackage{url}

% 护眼背景
\newif\if@backgroundcolor
\@backgroundcolorfalse
\DeclareOption{bgcolor}{\@backgroundcolortrue}
\ProcessOptions
\if@backgroundcolor
\definecolor{bg}{RGB}{199,237,204}
\pagecolor{bg}
\else
\definecolor{bg}{RGB}{255,255,255}
\fi

\author{ayhe123\thanks{笔记发布在这个网址上: \url{https://github.com/ayhe123/algebra-lecturenote}}}

\numberwithin{equation}{section}

% 定理环境
\mdfdefinestyle{mdftheoremstyle}{
middlelinecolor=black,
middlelinewidth=.5pt,
backgroundcolor=black!15}
\newmdtheoremenv[style=mdftheoremstyle]{theorem}{定理}[section]
\newmdtheoremenv[style=mdftheoremstyle]{lemma}{引理}[section]
\newmdtheoremenv[style=mdftheoremstyle]{corollary}{推论}[section]
\newmdtheoremenv[style=mdftheoremstyle]{proposition}{命题}[section]
\newmdtheoremenv[style=mdftheoremstyle]{property}{性质}[section]
\newmdtheoremenv[style=mdftheoremstyle]{exercise}{习题}
\newmdtheoremenv[style=mdftheoremstyle]{exercisec}{补充题}
\theoremstyle{definition}
\newmdtheoremenv[
topline=false,
bottomline=false,
rightline=false,
middlelinecolor=black!50,
middlelinewidth=3pt,
backgroundcolor=bg]{example}{例}[section]
\newmdtheoremenv[style=mdftheoremstyle]{definition}{定义}[section]
\newtheorem*{solution}{解}
\theoremstyle{remark}
\newtheorem*{thought}{思路}
\newtheorem*{note}{注}
\newtheorem*{remark}{注意}

% 习题计数器
\newcounter{exsection}[section]
\numberwithin{exercise}{exsection}
\renewcommand\theexercise{\theexsection.\arabic{exercise}}

% mdframed 包裹定理环境
\mdfsetup{%
middlelinecolor=black,
middlelinewidth=.5pt,
backgroundcolor=black!15}
\surroundwithmdframed{verbatim}

% 自定义算符
\DeclareMathOperator{\im}{Im}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\charop}{char}
\DeclareMathOperator{\ft}{FT}
\DeclareMathOperator{\res}{Res}
\DeclareMathOperator{\aff}{Aff}
\DeclareMathOperator{\gl}{GL}
\DeclareMathOperator{\pgl}{PGL}
\DeclareMathOperator{\slop}{SL}
\DeclareMathOperator{\spop}{Sp}